# λ‹¤λ¥Έ μ»΄ν“¨ν„°μ—μ„ ν”„λ΅μ νΈ μ‹¤ν–‰ κ°€μ΄λ“

μ΄ λ¬Έμ„λ” μ¶μ„ κ΄€λ¦¬ μ‹μ¤ν…μ„ λ‹¤λ¥Έ μ»΄ν“¨ν„°μ—μ„ λΉλ“ν•κ³  μ‹¤ν–‰ν•λ” λ°©λ²•μ„ μ„¤λ…ν•©λ‹λ‹¤.

## π“‹ μ‚¬μ „ μ”κµ¬μ‚¬ν•­

1. **Node.js μ„¤μΉ** (λ²„μ „ 14 μ΄μƒ κ¶μ¥)
   - [Node.js κ³µμ‹ μ‚¬μ΄νΈ](https://nodejs.org/)μ—μ„ λ‹¤μ΄λ΅λ“ λ° μ„¤μΉ
   - μ„¤μΉ ν™•μΈ: `node --version`, `npm --version`

2. **ν”„λ΅μ νΈ νμΌ λ³µμ‚¬**
   - μ „μ²΄ `web-version` ν΄λ”λ¥Ό λ‹¤λ¥Έ μ»΄ν“¨ν„°λ΅ λ³µμ‚¬
   - λλ” Gitμ„ μ‚¬μ©ν•μ—¬ ν΄λ΅ 

## π€ λ°°ν¬ λ‹¨κ³„

### 1λ‹¨κ³„: ν”„λ΅μ νΈ λ””λ ‰ν† λ¦¬λ΅ μ΄λ™

```bash
cd web-version
```

### 2λ‹¨κ³„: μμ΅΄μ„± μ„¤μΉ

λ£¨νΈ λ””λ ‰ν† λ¦¬μ™€ ν΄λΌμ΄μ–ΈνΈ λ””λ ‰ν† λ¦¬μ λ¨λ“  μμ΅΄μ„±μ„ μ„¤μΉν•©λ‹λ‹¤:

```bash
# λ°©λ²• 1: μλ™ μ„¤μΉ (κ¶μ¥)
npm run install-all

# λ°©λ²• 2: μλ™ μ„¤μΉ
npm install
cd client
npm install
cd ..
```

### 3λ‹¨κ³„: ν™κ²½ λ³€μ μ„¤μ •

#### μ„λ²„ ν™κ²½ λ³€μ μ„¤μ •

`server` ν΄λ”μ— `.env` νμΌμ„ μƒμ„±ν•©λ‹λ‹¤:

```bash
# Windows (PowerShell)
cd server
New-Item -ItemType File -Name .env

# Windows (CMD)
cd server
type nul > .env

# Linux/Mac
cd server
touch .env
```

`.env` νμΌμ— λ‹¤μ λ‚΄μ©μ„ μ¶”κ°€ν•©λ‹λ‹¤:

```env
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
NODE_ENV=production
PORT=5000
```

> β οΈ **λ³΄μ• μ£Όμ**: ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” `JWT_SECRET`μ„ λ°λ“μ‹ κ°•λ ¥ν• λλ¤ λ¬Έμμ—΄λ΅ λ³€κ²½ν•μ„Έμ”!

#### ν΄λΌμ΄μ–ΈνΈ ν™κ²½ λ³€μ μ„¤μ • (μ„ νƒμ‚¬ν•­)

API URLμ„ λ³€κ²½ν•΄μ•Ό ν•λ” κ²½μ°, `client` ν΄λ”μ— `.env` νμΌμ„ μƒμ„±ν•©λ‹λ‹¤:

```env
REACT_APP_API_URL=http://localhost:5000/api
```

> π’΅ **μ°Έκ³ **: λ‹¤λ¥Έ μ»΄ν“¨ν„°μ IP μ£Όμ†λ΅ μ ‘κ·Όν•λ ¤λ©΄ `http://[μ„λ²„IP]:5000/api` ν•μ‹μΌλ΅ μ„¤μ •ν•μ„Έμ”.

### 4λ‹¨κ³„: ν΄λΌμ΄μ–ΈνΈ λΉλ“

React μ•±μ„ ν”„λ΅λ•μ…μ©μΌλ΅ λΉλ“ν•©λ‹λ‹¤:

```bash
# λ£¨νΈ λ””λ ‰ν† λ¦¬μ—μ„
npm run build

# λλ” ν΄λΌμ΄μ–ΈνΈ λ””λ ‰ν† λ¦¬μ—μ„ μ§μ ‘
cd client
npm run build
cd ..
```

λΉλ“κ°€ μ™„λ£λλ©΄ `client/build` ν΄λ”μ— μ •μ  νμΌλ“¤μ΄ μƒμ„±λ©λ‹λ‹¤.

### 5λ‹¨κ³„: λ°μ΄ν„°λ² μ΄μ¤ ν™•μΈ

κΈ°μ΅΄ λ°μ΄ν„°λ² μ΄μ¤ νμΌμ΄ μλ‹¤λ©΄ `server` ν΄λ”μ— λ³µμ‚¬ν•©λ‹λ‹¤:

```bash
# server ν΄λ”μ— management_system.db νμΌμ΄ μλ”μ§€ ν™•μΈ
# μ—†μΌλ©΄ κΈ°μ΅΄ λ°μ΄ν„°λ² μ΄μ¤ νμΌμ„ λ³µμ‚¬ν•κ±°λ‚ μƒλ΅ μƒμ„±λ©λ‹λ‹¤
```

### 6λ‹¨κ³„: μ„λ²„ μ‹¤ν–‰

#### ν”„λ΅λ•μ… λ¨λ“λ΅ μ‹¤ν–‰

```bash
# λ£¨νΈ λ””λ ‰ν† λ¦¬μ—μ„
npm start

# λλ” μ„λ²„ λ””λ ‰ν† λ¦¬μ—μ„ μ§μ ‘
cd server
npm start
```

μ„λ²„κ°€ μ„±κ³µμ μΌλ΅ μ‹μ‘λλ©΄ λ‹¤μκ³Ό κ°™μ€ λ©”μ‹μ§€κ°€ ν‘μ‹λ©λ‹λ‹¤:

```
π€ μ¶μ„ κ΄€λ¦¬ μ‹μ¤ν… API μ„λ²„κ°€ ν¬νΈ 5000μ—μ„ μ‹¤ν–‰ μ¤‘μ…λ‹λ‹¤.
π“ Health Check: http://localhost:5000/api/health
π λ„¤νΈμ›ν¬ μ ‘μ†: http://[λ΅μ»¬IP]:5000/api/health
```

### 7λ‹¨κ³„: μ ‘μ† ν™•μΈ

λΈλΌμ°μ €μ—μ„ λ‹¤μ μ£Όμ†λ΅ μ ‘μ†ν•©λ‹λ‹¤:

- **λ΅μ»¬ μ ‘μ†**: `http://localhost:5000`
- **λ„¤νΈμ›ν¬ μ ‘μ†**: `http://[μ„λ²„IPμ£Όμ†]:5000`

μ: `http://192.168.0.100:5000`

## π”§ λ¬Έμ  ν•΄κ²°

### ν¬νΈκ°€ μ΄λ―Έ μ‚¬μ© μ¤‘μΈ κ²½μ°

`.env` νμΌμ—μ„ `PORT` κ°’μ„ λ³€κ²½ν•μ„Έμ”:

```env
PORT=5001
```

### λΉλ“ μ¤λ¥ λ°μƒ μ‹

1. Node.js λ²„μ „ ν™•μΈ (14 μ΄μƒ ν•„μ”)
2. `node_modules` ν΄λ” μ‚­μ  ν›„ μ¬μ„¤μΉ:
   ```bash
   rm -rf node_modules client/node_modules server/node_modules
   npm run install-all
   ```

### λ°μ΄ν„°λ² μ΄μ¤ μ¤λ¥ λ°μƒ μ‹

1. `server` ν΄λ”μ— `management_system.db` νμΌμ΄ μλ”μ§€ ν™•μΈ
2. νμΌ κ¶ν• ν™•μΈ (μ½κΈ°/μ“°κΈ° κ¶ν• ν•„μ”)

### λ°©ν™”λ²½ μ„¤μ •

λ‹¤λ¥Έ μ»΄ν“¨ν„°μ—μ„ μ ‘μ†ν•λ ¤λ©΄ λ°©ν™”λ²½μ—μ„ ν¬νΈλ¥Ό μ—΄μ–΄μ•Ό ν•©λ‹λ‹¤:

**Windows λ°©ν™”λ²½:**
1. Windows λ³΄μ• β†’ λ°©ν™”λ²½ λ° λ„¤νΈμ›ν¬ λ³΄νΈ
2. κ³ κΈ‰ μ„¤μ • β†’ μΈλ°”μ΄λ“ κ·μΉ™ β†’ μƒ κ·μΉ™
3. ν¬νΈ μ„ νƒ β†’ TCP β†’ νΉμ • λ΅μ»¬ ν¬νΈ: 5000
4. μ—°κ²° ν—μ© β†’ λ¨λ“  ν”„λ΅ν•„ μ„ νƒ β†’ μ΄λ¦„: "μ¶μ„κ΄€λ¦¬μ‹μ¤ν…"

**Linux (ufw):**
```bash
sudo ufw allow 5000/tcp
```

## π“¦ λ°°ν¬ ν¨ν‚¤μ§• (μ„ νƒμ‚¬ν•­)

λ°°ν¬λ¥Ό μ‰½κ² ν•κΈ° μ„ν•΄ ν•„μ”ν• νμΌλ§ μ••μ¶•ν•  μ μμµλ‹λ‹¤:

### ν¬ν•¨ν•΄μ•Ό ν•  νμΌ/ν΄λ”:
- β… `server/` (μ „μ²΄)
- β… `client/build/` (λΉλ“λ νμΌ)
- β… `package.json` (λ£¨νΈ)
- β… `server/package.json`
- β… `server/.env` (λλ” `.env.example`)

### μ μ™Έν•΄λ„ λλ” νμΌ/ν΄λ”:
- β `node_modules/` (μ¬μ„¤μΉ κ°€λ¥)
- β `client/src/` (λΉλ“λ νμΌλ§ ν•„μ”)
- β `client/node_modules/`
- β `.git/`
- β `*.log`

### λ°°ν¬ ν¨ν‚¤μ§€ μ‚¬μ© λ°©λ²•:

1. μ••μ¶• ν•΄μ 
2. `npm run install-all` μ‹¤ν–‰
3. `npm run build` μ‹¤ν–‰ (μ΄λ―Έ λΉλ“λμ–΄ μμΌλ©΄ μƒλµ κ°€λ¥)
4. `.env` νμΌ μ„¤μ •
5. `npm start` μ‹¤ν–‰

## π”„ μ—…λ°μ΄νΈ λ°©λ²•

ν”„λ΅μ νΈλ¥Ό μ—…λ°μ΄νΈν•  λ•:

```bash
# 1. μµμ‹  μ½”λ“ κ°€μ Έμ¤κΈ° (Git μ‚¬μ© μ‹)
git pull

# 2. μμ΅΄μ„± μ—…λ°μ΄νΈ
npm run install-all

# 3. ν΄λΌμ΄μ–ΈνΈ μ¬λΉλ“
npm run build

# 4. μ„λ²„ μ¬μ‹μ‘
npm start
```

## π“ μ¶”κ°€ μ°Έκ³ μ‚¬ν•­

- **PM2 μ‚¬μ©** (ν”„λ΅λ•μ… κ¶μ¥): μ„λ²„λ¥Ό λ°±κ·ΈλΌμ΄λ“μ—μ„ μ‹¤ν–‰ν•κ³  μλ™ μ¬μ‹μ‘
  ```bash
  npm install -g pm2
  pm2 start server/index.js --name attendance-system
  pm2 save
  pm2 startup
  ```

- **Nginx λ¦¬λ²„μ¤ ν”„λ΅μ‹** (μ„ νƒμ‚¬ν•­): λ„λ©”μΈκ³Ό HTTPS μ„¤μ • μ‹ μ‚¬μ©

- **μλ™ λ°±μ—…**: μ„λ²„λ” λ§¤μΌ 03:00μ— μλ™μΌλ΅ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό λ°±μ—…ν•©λ‹λ‹¤ (14μΌ λ³΄κ΄€)

---

**β… μ΄μ  λ‹¤λ¥Έ μ»΄ν“¨ν„°μ—μ„λ„ μ¶μ„ κ΄€λ¦¬ μ‹μ¤ν…μ„ μ‹¤ν–‰ν•  μ μμµλ‹λ‹¤!**

